include: "Alt.snake"
include: "CommonStats.snake"

#Autodetect bins
#TODO: refactor
CAGS, = glob_wildcards("binning/{}/cluster.{{cag,\d+}}.fa".format(BINNER))
CAGS.sort()

register_input("metabat", "binning/metabat/cluster.{frag}.fa", CAGS)
register_input("concoct", "binning/concoct/cluster.{frag}.fa", CAGS)

# Run this AFTER 'all'
rule stats_all:
    input:   "stats/summary/full_{}.tsv".format(BINNER)
    message: "Gathered some numbers, deal with them."
