include: "Alt.snake"
include: "CommonStats.snake"

#Autodetect bins
#TODO: refactor
CAGS, = glob_wildcards("binning/{}/cluster.{{cag,\d+}}.fa".format(BINNER))
CAGS.sort()

register_input("metabat", "binning/metabat/cluster.{frag}.fa", CAGS)
register_input("concoct", "binning/concoct/cluster.{frag}.fa", CAGS)

# Run this AFTER 'all'
rule stats_all:
    input:   expand(rules.gather_stats.output[0], stage=BINNER)
