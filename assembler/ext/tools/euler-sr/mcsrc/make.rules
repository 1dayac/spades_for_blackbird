%.o: %.cpp
	$(CPP) $(CPPOPTS) $(INCLUDEDIR) $< -o $@

$(MACHTYPE)/%.o: %.cpp 
	$(CPP) -c $(CPPOPTS) $(xtra) $(INCLUDEDIR) $<  -o $@

$(CURDIR)/make.dep:
	@ ${MKFILES}
	@ ${MKDEP} ${TLDIR} `pwd`

arch_dir:	$(CURDIR)/$(MACHTYPE)/.exists


$(CURDIR)/$(MACHTYPE)/.exists:
	@ if [ ! -d $(CURDIR)/$(MACHTYPE) ]; then  mkdir $(CURDIR)/$(MACHTYPE); fi
	@ touch $(CURDIR)/$(MACHTYPE)/.exists

lib_arch_dir:
				@ -mkdir -p $(EUSRC)/lib/$(MACHTYPE)

MACHEXECS = $(addprefix $(MACHTYPE)/, $(EXECS))

.PHONY: debug debugclean parallel

debug: all
parallel: all
	
install:
	@ -mkdir -p $(BIN_DIR)


debugclean:
	-rm -rf $(MACHTYPE)/*
	-rm -rf make.dep make.ofiles make.files

clean:
	-rm -rf $(MACHTYPE)/*.o
	-rm -rf $(MACHEXECS)  
	-rm -rf $(MACHTYPE)
	-rm -rf make.dep make.ofiles
	-rm -f *~

