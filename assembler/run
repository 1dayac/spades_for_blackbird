#!/bin/bash

function run_n_measure
{
   if [ "$(uname -s)" == "Darwin" ]; then # Mac OS X
       /usr/bin/time $1 $2 $3 $4 $5 $6 $7
   else # other, e.g. Linux
       /usr/bin/time -f "\n\ntime: %E" $1 $2 $3 $4 $5 $6 $7
   fi
}

if [ $# = 0 ]
then
  set $1 'rd'
fi

case $1 in

'rd' ) run_n_measure build/release/debruijn/debruijn configs/debruijn/config.info ;;
'dd' ) run_n_measure build/debug/debruijn/debruijn configs/debruijn/config.info ;;
'ddt' ) run_n_measure build/debug/test/debruijn/debruijn_test ;;
'rdt' ) run_n_measure build/release/test/debruijn/debruijn_test ;;
'dit' ) run_n_measure build/debug/test/include_test/include_test ;;
'dt') run_n_measure build/debug/test/debruijn/debruijn_test && run_n_measure build/debug/test/include_test/include_test ;;

* ) run_n_measure $1 $2 $3 $4 $5

esac


